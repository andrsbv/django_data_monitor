    <main class="h-full overflow-y-auto">
      <div class="container px-6 mx-auto grid">
        <h2 class="my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200">
          {{ titulo_secundario }}
        </h2>

        <!-- Indicadores -->
        <div class="grid gap-6 mb-8 md:grid-cols-2 xl:grid-cols-4">

          {% for indicador in indicadores %}
          <div
            class="flex items-center p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800">
            <div
              class="p-3 mr-4 {% cycle 'text-orange-500 bg-orange-100 dark:text-orange-100 dark:bg-orange-500' 'text-green-500 bg-green-100 dark:text-green-100 dark:bg-green-500' 'text-blue-500 bg-blue-100 dark:text-blue-100 dark:bg-blue-500' 'text-teal-500 bg-teal-100 dark:text-teal-100 dark:bg-teal-500' %} rounded-full">
              <!-- Iconos estáticos -->
              {% if forloop.counter == 1 %}
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path
                  d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z">
                </path>
              </svg>
              {% elif forloop.counter == 2 %}
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M10 5.050781C11.609375 5.050781 12.917969 5.425781 12.917969 5.886719L12.917969 5.976562C13.359375 5.460938 13.832031 5.214844 14.167969 5.886719C14.902344 6.988281 13.367188 11.339844 11.5625 10.910156C11.226562 11.347656 10.886719 11.636719 10.609375 11.824219C10.992188 11.964844 11.25 12.238281 11.25 12.550781C11.25 12.847656 11.019531 13.109375 10.667969 13.253906L11.261719 13.945312C12.003906 14.125 12.5 14.460938 12.5 14.84375C12.5 15.417969 11.378906 15.886719 10 15.886719C8.621094 15.886719 7.5 15.417969 7.5 14.84375C7.5 14.460938 7.996094 14.125 8.738281 13.945312L9.332031 13.253906C8.980469 13.109375 8.75 12.847656 8.75 12.550781C8.75 12.238281 9.007812 11.964844 9.390625 11.824219C9.113281 11.636719 8.773438 11.347656 8.4375 10.910156C6.632812 11.339844 5.097656 6.988281 5.832031 5.886719C6.167969 5.214844 6.640625 5.460938 7.082031 5.976562L7.082031 5.886719C7.082031 5.425781 8.390625 5.050781 10 5.050781Z M13.75 6.457031C13.75 5.914062 13.324219 6.402344 12.84375 7.300781C12.71875 8.460938 12.4375 9.351562 12.105469 10.03125C13.148438 9.632812 13.75 7.519531 13.75 6.457031ZM6.25 6.457031C6.25 7.519531 6.851562 9.632812 7.894531 10.03125C7.5625 9.351562 7.28125 8.460938 7.15625 7.300781C6.675781 6.402344 6.25 5.914062 6.25 6.457031Z M6.25 6.457031"
                  clip-rule="evenodd"></path>
              </svg>
              {% elif forloop.counter == 3 %}
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path
                  d="M10 1.667969C14.601562 1.667969 18.332031 5.398438 18.332031 10C18.332031 14.601562 14.601562 18.332031 10 18.332031C5.398438 18.332031 1.667969 14.601562 1.667969 10C1.667969 5.398438 5.398438 1.667969 10 1.667969ZM10 3.332031C6.316406 3.332031 3.332031 6.316406 3.332031 10C3.332031 13.683594 6.316406 16.667969 10 16.667969C13.683594 16.667969 16.667969 13.683594 16.667969 10C16.667969 6.316406 13.683594 3.332031 10 3.332031Z">
                </path>
              </svg>
              {% else %}
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path
                  d="M3 3h14v14H3V3zm4 12h6v-2H7v2zm0-4h6v-2H7v2zM7 7h6V5H7v2z">
                </path>
              </svg>
              {% endif %}
            </div>
            <div>
              <p class="mb-2 text-sm font-medium text-gray-600 dark:text-gray-400">{{ indicador.titulo }}</p>
              <p class="text-lg font-semibold text-gray-700 dark:text-gray-200">{{ indicador.valor }}</p>
            </div>
          </div>
          {% endfor %}
        </div>
          <!-- Tabla y gráfico juntos -->
<div class="w-full overflow-hidden rounded-lg shadow-xs flex flex-col md:flex-row md:space-x-6 mt-6">

  <!-- Tabla -->
  <div class="w-full md:w-2/3 overflow-x-auto">
    <table class="w-full whitespace-no-wrap">
      <thead>
        <tr
          class="text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800">
          {% for columna in columnas %}
          <th class="px-4 py-3">{{ columna }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800">
        {% for fila in filas %}
        <tr class="text-gray-700 dark:text-gray-400">
          <td class="px-4 py-3">{{ fila.valor1 }}</td>
          <td class="px-4 py-3">{{ fila.valor2 }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <div
      class="grid px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase border-t dark:border-gray-700 bg-gray-50 sm:grid-cols-9 dark:text-gray-400 dark:bg-gray-800">
      <span class="flex items-center col-span-3">
        Mostrando 10 resultados de {{ total_respuestas }} posts
      </span>
    </div>
  </div>

  <!-- Gráfico -->
  <div class="w-full md:w-1/3 flex items-center justify-center">
    <canvas id="postsPorUsuario" height="150"></canvas>
  </div>
  
</div>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
  const ctx = document.getElementById('postsPorUsuario').getContext('2d');
  const data = JSON.parse('{{ grafico_data_json|escapejs }}');

  console.log(data); // Para debug

  new Chart(ctx, {
    type: 'line',
    data: data,
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true,
          ticks: { precision: 0 }
        }
      },
      plugins: {
        legend: { display: true, position: 'top' },
        tooltip: { enabled: true }
      }
    }
  });
  });
  </script>